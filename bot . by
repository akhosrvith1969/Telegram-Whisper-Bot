from telegram.ext import Updater, CommandHandler, MessageHandler, Filters

TOKEN = "7269497277:AAH2NoljNqYHiDIARQbR06hsq4Mgj0Ufkmc"
messages = {}

def start(update, context):
    update.message.reply_text("ğŸ¤– Ø¨Ù‡ Ø±Ø¨Ø§Øª Ù†Ø¬ÙˆØ§ Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯! ÛŒÚ© Ù¾ÛŒØ§Ù… Ø¨ÙØ±Ø³ØªÛŒØ¯.")

def save_message(update, context):
    user_id = update.message.from_user.id
    messages[user_id] = update.message.text
    update.message.reply_text("âœ… Ù¾ÛŒØ§Ù… Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯! Ø¢ÛŒØ¯ÛŒ Ú©Ø§Ø±Ø¨Ø± Ø±Ø§ Ø¨ÙØ±Ø³ØªÛŒØ¯.")

def send_message(update, context):
    try:
        target_id = int(update.message.text)
        if target_id in messages:
            context.bot.send_message(target_id, f"ğŸ” ÛŒÚ© Ù¾ÛŒØ§Ù… Ù…Ø­Ø±Ù…Ø§Ù†Ù‡:\n{messages[target_id]}")
            update.message.reply_text("âœ… Ù¾ÛŒØ§Ù… Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯!")
        else:
            update.message.reply_text("âš ï¸ Ú©Ø§Ø±Ø¨Ø± Ù¾ÛŒØ§Ù…ÛŒ Ù†Ø¯Ø§Ø±Ø¯!")
    except:
        update.message.reply_text("âŒ Ø¢ÛŒØ¯ÛŒ Ø¨Ø§ÛŒØ¯ Ø¹Ø¯Ø¯ Ø¨Ø§Ø´Ø¯!")

updater = Updater(TOKEN)
updater.dispatcher.add_handler(CommandHandler('start', start))
updater.dispatcher.add_handler(MessageHandler(Filters.text & ~Filters.command, save_message))
updater.dispatcher.add_handler(MessageHandler(Filters.regex(r'^\d+$'), send_message))

print("Ø±Ø¨Ø§Øª ÙØ¹Ø§Ù„ Ø´Ø¯! ğŸ¤–")
updater.start_polling()
updater.idle()
